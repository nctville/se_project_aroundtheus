!function(){"use strict";var e=class{constructor(e,t){this._formEl=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.remove(this._errorClass)}_enableBtn(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}disableBtn(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}toggleButtonState(){this._hasInvalidInput()?this.disableBtn(this._submitBtn):this._enableBtn(this._submitBtn)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)],this._submitBtn=this._formEl.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}},t=class{constructor(e,t,s,n,r){this._name=e.name,this._link=e.link,this.cardId=e._id,this.isLiked=e.isLiked,this._cardSelector=t,this._handleDeleteClick=s,this.handleLikeClick=n,this._handleImageClick=r}_updateLikes(){this.isLiked?this._likeButton.classList.add("card__like-button_active"):this._likeButton.classList.remove("card__like-button_active")}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this.handleLikeClick(this)})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImage.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}handleLikeIcon(){this._likeButton.classList.toggle("card__like-button_active")}handleDeleteIcon(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardTitle=this._cardElement.querySelector(".card__location"),this._cardImage=this._cardElement.querySelector(".card__image"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._updateLikes(),this._setEventListeners(),this._cardElement}},s=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&(this.close(),e.preventDefault())}_setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{e.target.classList.contains("modal_opened")&&this.close(),e.target.classList.contains("modal__close")&&this.close()}))}},n=class extends s{constructor(e){let{popupSelector:t,handleFormSubmit:s}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=s,this._submitButton=this._popupForm.querySelector(".modal__button"),this._submitButtonText=this._submitButton.textContent}_getInputValues(){const e=this._popupForm.querySelectorAll(".modal__input"),t={};return e.forEach((e=>{t[e.name]=e.value})),t}setEventListeners(){super._setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}close(){this._popupForm.reset(),super.close()}setLoading(e){this._submitButton.textContent=e?"Saving...":this._submitButtonText}},r=class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this.addItem(e)}))}addItem(e){const t=this._renderer(e);this._container.prepend(t)}};const i={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};const o=document.querySelector("#profile-edit-modal").querySelector(".modal__form"),a=document.querySelector("#add-card-modal").querySelector(".modal__form"),l=document.querySelector("#avatar-form"),c=document.querySelector(".profile__add-button"),d=document.querySelector(".profile__avatar-btn"),h=document.querySelector(".profile__edit-button"),_=document.querySelector(".modal__input_type_name"),u=document.querySelector(".modal__input_type_description"),m=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}_handleResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._handleResponse)}getInitialInfo(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._handleResponse)}addNewCard(e){let{name:t,link:s}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:s})}).then(this._handleResponse)}deleteCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._handleResponse)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>{this._handleResponse(e)}))}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>{this._handleResponse(e)}))}patchProfileInfo(e){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e.name,about:e.description})}).then((e=>{this._handleResponse(e)}))}patchAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>this._handleResponse(e)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c06cb1ea-bab9-48c7-8798-47ebeebe8696","Content-Type":"application/json"}});let p;function b(e){return new t(e,"#card-template",S,E,((e,t)=>{C.open({link:t,name:e})})).getView()}m.getInitialCards().then((e=>{p=new r({items:e,renderer:b},".cards__list"),p.renderItems()})).catch((e=>{console.error(e)}));const v=new class{constructor(e){let{nameSelector:t,jobSelector:s,avatarSelector:n}=e;this._name=document.querySelector(t),this._job=document.querySelector(s),this._avatar=document.querySelector(n)}getUserInfo(){return{name:this._name.textContent,job:this._job.textContent}}setUserInfo(e){let{name:t,description:s}=e;this._name.textContent=t,this._job.textContent=s}setAvatarImg(e){this._avatar.src=e}}({nameSelector:".profile__name",jobSelector:".profile__description",avatarSelector:".profile__picture"});function S(e){y.open(),y.setSubmitAction((()=>{m.deleteCard(e.cardId).then((()=>{y.close(),e.handleDeleteIcon()})).catch((e=>{console.error(e)}))}))}function E(e){e.isLiked?m.dislikeCard(e.cardId).then((()=>{e.handleLikeIcon()})).catch((e=>{console.error(e)})):m.likeCard(e.cardId).then((()=>{e.handleLikeIcon()})).catch((e=>{console.error(e)}))}m.getInitialInfo().then((e=>{v.setAvatarImg(e.avatar),v.setUserInfo({name:e.name,description:e.about})})).catch((e=>{console.error(e)}));const L=new n({popupSelector:"#profile-edit-modal",handleFormSubmit:function(e){L.setLoading(!0),m.patchProfileInfo(e).then((()=>{v.setUserInfo({name:e.name,description:e.description}),L.close()})).catch((e=>{console.error(e)})).finally((()=>L.setLoading(!1,"Save")))}});L.setEventListeners();const f=new n({popupSelector:"#add-card-modal",handleFormSubmit:function(e){let{title:t,url:s}=e;f.setLoading(!0),m.addNewCard({name:t,link:s}).then((e=>{p.addItem(e),f.close()})).catch((e=>{console.error(e)})).finally((()=>f.setLoading(!1,"Create")))}});f.setEventListeners();const k=new n({popupSelector:"#avatar-modal",handleFormSubmit:function(e){k.setLoading(!0),m.patchAvatar(e.url).then((e=>{v.setAvatarImg(e.avatar),k.close()})).catch((e=>{console.error(e)})).finally((()=>{k.setLoading(!1,"Save")}))}});k.setEventListeners();const y=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._saveButton=this._popupForm.querySelector(".modal__button"),this._saveButtonText=this._saveButton.textContent}setSubmitAction(e){this._handleFormSubmit=e}setLoading(e){this._submitButton.textContent=e?"Deleting...":this._submitButtonText}setEventListeners(){super._setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()}))}}({popupSelector:"#delete-card-modal"});y.setEventListeners();const C=new class extends s{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._image=this._popupElement.querySelector(".modal__preview"),this._caption=this._popupElement.querySelector(".modal__caption")}open(e){let{link:t,name:s}=e;this._image.src=t,this._image.alt=s,this._caption.textContent=s,super.open()}}({popupSelector:"#modal__preview-image"});C._setEventListeners(),new e(i,o).enableValidation();const I=new e(i,a);I.enableValidation();const g=new e(i,l);g.enableValidation(),h.addEventListener("click",(()=>{const e=v.getUserInfo();_.value=e.name,u.value=e.job,L.open()})),c.addEventListener("click",(()=>{I.disableBtn(),f.open()})),d.addEventListener("click",(()=>{g.disableBtn(),k.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y0FDNUJsRCxFQUFVdEIsTUFBUThGLEVBQVc1SSxLQUM3QnFFLEVBQWlCdkIsTUFBUThGLEVBQVdyQixJQUVwQ08sRUFBY2xHLE1BQU0sSUFHdEJxQyxFQUFXM0UsaUJBQWlCLFNBQVMsS0FDbkNvSixFQUFxQi9KLGFBQ3JCc0osRUFBaUJyRyxNQUFNLElBR3pCc0MsRUFBaUI1RSxpQkFBaUIsU0FBUyxLQUN6Q3FKLEVBQW9CaEssYUFDcEJ3SixFQUFrQnZHLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBGb3JtVmFsaWRhdG9ye1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbCkge1xuICAgIHRoaXMuX2Zvcm1FbCA9IGZvcm1FbDtcbiAgIFxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2VhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKFxuICAgICAgYCMke2lucHV0RWwuaWR9LWVycm9yYFxuICAgICk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzZWFnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NlYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihcbiAgICAgIGAjJHtpbnB1dEVsLmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2VuYWJsZUJ0bigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICBcbiAgfVxuXG4gIGRpc2FibGVCdG4oKSB7XG4gICAgdGhpcy5fc3VibWl0QnRuLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgXG5cbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuZGlzYWJsZUJ0bih0aGlzLl9zdWJtaXRCdG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9lbmFibGVCdG4odGhpcy5fc3VibWl0QnRuKTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIFxuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgICB0aGlzLl9zdWJtaXRCdG4gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gIFxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBcblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG5cbn1cblxuXG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3IiLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLmNhcmRJZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuaXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLmhhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICBcbiAgfVxuXG4gIF91cGRhdGVMaWtlcygpIHtcbiAgICBpZiAodGhpcy5pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5oYW5kbGVMaWtlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBkZWxldGVCdG4gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIik7XG4gICAgZGVsZXRlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIGhhbmRsZUxpa2VJY29uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b25cbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9XG5cbiAgaGFuZGxlRGVsZXRlSWNvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XG4gIH1cblxuICBnZXRWaWV3KCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKVxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbG9jYXRpb25cIik7XG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2Uuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuXG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XG4gICAgdGhpcy5fdXBkYXRlTGlrZXMoKTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5faGFuZGxlRXNjQ2xvc2UgPSB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UoZSkge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX29wZW5lZFwiKSkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgXG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG5cbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQgPSB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQ7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRMaXN0ID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGZvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHN1cGVyLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgICAgXG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICBzdXBlci5jbG9zZSgpO1xuICB9XG5cbiAgc2V0TG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlNhdmluZy4uLlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSB0aGlzLl9zdWJtaXRCdXR0b25UZXh0O1xuICAgIH1cbiAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChkYXRhKSA9PiB7XG4gICAgICB0aGlzLmFkZEl0ZW0oZGF0YSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGRhdGEpIHtcbiAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoZGF0YSlcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAgICB7XG4gICAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxuICAgICAgYWx0OiBcIllvc2VtaXRlIFZhbGxleVwiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJMYWtlIExvdWlzZVwiLFxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xha2UtbG91aXNlLmpwZ1wiLFxuICAgICAgYWx0OiBcIkxha2UgTG91aXNlXCIsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXG4gICAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gICAgICBhbHQ6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhdGVtYXIuanBnXCIsXG4gICAgICBhbHQ6IFwiTGF0ZW1hclwiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJWYW5vaXNlIE5hdGlvbmFsIFBhcmtcIixcbiAgICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICAgICAgYWx0OiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxuICAgICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gICAgICBhbHQ6IFwiTGFnbyBkaSBCcmFpZXNcIixcbiAgICB9LFxuICBdO1xuICAgXG4gIGV4cG9ydCBjb25zdCBjb25maWcgPSB7XG4gICAgZm9ybVNlbGVjdG9yOiAnLm1vZGFsX19mb3JtJyxcbiAgICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICAgIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICAgIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICAgIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbiAgfTtcblxuICBleHBvcnQgY29uc3QgcG9wdXBTZWxlY3RvciA9IHtcbiAgICBlZGl0UG9wdXA6IFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICAgIGFkZENhcmRQb3B1cDogXCIjYWRkLWNhcmQtbW9kYWxcIixcbiAgICBpbWFnZVBvcHVwOiBcIiNtb2RhbF9fcHJldmlldy1pbWFnZVwiXG4gIH0gXG5cbiAgZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvciA9IFwiI2NhcmQtdGVtcGxhdGVcIjsiLCJpbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcbmltcG9ydCBQb3B1cFdpdGhDb25maXJtYXRpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoQ29uZmlybWF0aW9uLmpzXCI7XG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IGNvbmZpZywgY2FyZFNlbGVjdG9yIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuLy93cmFwcGVyc1xuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgYWRkQ2FyZE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1tb2RhbFwiKTtcbmNvbnN0IGFkZENhcmRGb3JtID0gYWRkQ2FyZE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG5cbmNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1mb3JtXCIpO1xuXG4vL2FkZCBjYXJkIHZhcmlhYmxlc1xuY29uc3QgYWRkQ2FyZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKTtcblxuXG4vL3Byb2ZpbGUgYXZhdGFyIGZvcm1cblxuY29uc3QgcHJvZmlsZUF2YXRhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyLWJ0blwiKTtcblxuLy8gQnV0dG9ucyArIERPTSBub2Rlc1xuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuXG4vLyBGb3JtIGRhdGFcbmNvbnN0IG5hbWVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2lucHV0X3R5cGVfbmFtZVwiKTtcbmNvbnN0IGRlc2NyaXB0aW9uSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBcIi5tb2RhbF9faW5wdXRfdHlwZV9kZXNjcmlwdGlvblwiXG4pO1xuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJjMDZjYjFlYS1iYWI5LTQ4YzctODc5OC00N2ViZWViZTg2OTZcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG5sZXQgc2VjdGlvbjtcbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKGNhcmRzKSA9PiB7XG4gICAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogY2FyZHMsXG4gICAgICAgIHJlbmRlcmVyOiBjcmVhdGVDYXJkLFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuXG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICB9KVxuICAuY2F0Y2goKGVycikgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgfSk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrLFxuICAgIChuYW1lLCBsaW5rKSA9PiB7XG4gICAgICBwcmV2aWV3SW1hZ2Uub3Blbih7IGxpbmssIG5hbWUgfSk7XG4gICAgfVxuICApO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX19uYW1lXCIsXG4gIGpvYlNlbGVjdG9yOiBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiLFxuICBhdmF0YXJTZWxlY3RvcjogXCIucHJvZmlsZV9fcGljdHVyZVwiLFxufSk7XG5cbmFwaS5nZXRJbml0aWFsSW5mbygpLnRoZW4oKHVzZXJEYXRhKSA9PiB7XG4gIHVzZXJJbmZvLnNldEF2YXRhckltZyh1c2VyRGF0YS5hdmF0YXIpO1xuICB1c2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICBkZXNjcmlwdGlvbjogdXNlckRhdGEuYWJvdXQsXG4gIH0pXG4gIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKGVycik7XG4gIH0pO1xuXG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgZGVsZXRlQ2FyZENvbmZpcm0ub3BlbigpO1xuICBkZWxldGVDYXJkQ29uZmlybS5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xuICAgXG4gICAgYXBpXG4gICAgICAuZGVsZXRlQ2FyZChjYXJkLmNhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZGVsZXRlQ2FyZENvbmZpcm0uY2xvc2UoKTtcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGVJY29uKCk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pXG4gICAgICAgXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZCkge1xuICBpZiAoY2FyZC5pc0xpa2VkKSB7XG4gICAgYXBpLmRpc2xpa2VDYXJkKGNhcmQuY2FyZElkKS50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuaGFuZGxlTGlrZUljb24oKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpLmxpa2VDYXJkKGNhcmQuY2FyZElkKS50aGVuKCgpID0+IHtcbiAgICAgIGNhcmQuaGFuZGxlTGlrZUljb24oKTtcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSk7XG4gIH1cbn1cblxuY29uc3QgcG9wdXBFZGl0Rm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0LFxufSk7XG5wb3B1cEVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHBvcHVwQWRkQ2FyZEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI2FkZC1jYXJkLW1vZGFsXCIsXG4gIGhhbmRsZUZvcm1TdWJtaXQ6IGhhbmRsZUFkZENhcmRTdWJtaXQsXG59KTtcbnBvcHVwQWRkQ2FyZEZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgcHJvZmlsZUF2YXRhckZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiI2F2YXRhci1tb2RhbFwiLFxuICBoYW5kbGVGb3JtU3VibWl0OiBoYW5kbGVQcm9maWxlQXZhdGFyU3VibWl0LFxufSk7XG5wcm9maWxlQXZhdGFyRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBkZWxldGVDYXJkQ29uZmlybSA9IG5ldyBQb3B1cFdpdGhDb25maXJtYXRpb24oe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNkZWxldGUtY2FyZC1tb2RhbFwiLFxufSk7XG5kZWxldGVDYXJkQ29uZmlybS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCBwcmV2aWV3SW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2Uoe1xuICBwb3B1cFNlbGVjdG9yOiBcIiNtb2RhbF9fcHJldmlldy1pbWFnZVwiLFxufSk7XG5wcmV2aWV3SW1hZ2UuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCBwcm9maWxlRWRpdEZvcm0pO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuY29uc3QgYWRkQ2FyZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGFkZENhcmRGb3JtKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIGF2YXRhckZvcm0pO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vaGFuZGxlIGZvcm0gc3VibWl0c1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCh1c2VyRGF0YSkge1xuIFxuICBwb3B1cEVkaXRGb3JtLnNldExvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5wYXRjaFByb2ZpbGVJbmZvKHVzZXJEYXRhKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgZGVzY3JpcHRpb246IHVzZXJEYXRhLmRlc2NyaXB0aW9uLFxuICAgICAgfSk7XG4gICAgICBwb3B1cEVkaXRGb3JtLmNsb3NlKClcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBwb3B1cEVkaXRGb3JtLnNldExvYWRpbmcoZmFsc2UsIFwiU2F2ZVwiKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoeyB0aXRsZSwgdXJsIH0pIHtcbiAgXG4gIHBvcHVwQWRkQ2FyZEZvcm0uc2V0TG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLmFkZE5ld0NhcmQoeyBuYW1lOiB0aXRsZSwgbGluazogdXJsIH0pXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShkYXRhKTtcbiAgICAgIHBvcHVwQWRkQ2FyZEZvcm0uY2xvc2UoKVxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHBvcHVwQWRkQ2FyZEZvcm0uc2V0TG9hZGluZyhmYWxzZSwgXCJDcmVhdGVcIikpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlQXZhdGFyU3VibWl0KGF2YXRhcikge1xuICBwcm9maWxlQXZhdGFyRm9ybS5zZXRMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAucGF0Y2hBdmF0YXIoYXZhdGFyLnVybClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRBdmF0YXJJbWcocmVzLmF2YXRhcik7XG4gICAgICBwcm9maWxlQXZhdGFyRm9ybS5jbG9zZSgpXG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgcHJvZmlsZUF2YXRhckZvcm0uc2V0TG9hZGluZyhmYWxzZSwgXCJTYXZlXCIpO1xuICAgIH0pO1xufVxuXG4vL2V2ZW50IGxpc3RlbmVyc1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB1c2VyVmFsdWVzID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgbmFtZUlucHV0LnZhbHVlID0gdXNlclZhbHVlcy5uYW1lO1xuICBkZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlclZhbHVlcy5qb2I7XG5cbiAgcG9wdXBFZGl0Rm9ybS5vcGVuKCk7XG59KTtcblxuYWRkQ2FyZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBhZGRDYXJkRm9ybVZhbGlkYXRvci5kaXNhYmxlQnRuKCk7XG4gIHBvcHVwQWRkQ2FyZEZvcm0ub3BlbigpO1xufSk7XG5cbnByb2ZpbGVBdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYXZhdGFyRm9ybVZhbGlkYXRvci5kaXNhYmxlQnRuKCk7XG4gIHByb2ZpbGVBdmF0YXJGb3JtLm9wZW4oKTtcbn0pO1xuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IoeyBiYXNlVXJsLCBoZWFkZXJzIH0pIHtcbiAgICAvLyBjb25zdHJ1Y3RvciBib2R5XG4gICAgdGhpcy5fYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cblxuICBfaGFuZGxlUmVzcG9uc2UocmVzKSB7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgfVxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG4gIGdldEluaXRpYWxJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9oYW5kbGVSZXNwb25zZSk7XG4gIH1cblxuICBhZGROZXdDYXJkKHsgbmFtZSwgbGluayB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2hhbmRsZVJlc3BvbnNlKTtcbiAgfVxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5faGFuZGxlUmVzcG9uc2UpO1xuICB9XG5cbiAgbGlrZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xuICAgIH0pO1xuICB9XG4gIGRpc2xpa2VDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2NhcmRJZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpO1xuICAgIH0pO1xuICB9XG5cblxucGF0Y2hQcm9maWxlSW5mbyhkYXRhKSB7XG4gIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAse1xuICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgYWJvdXQ6IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgfSksXG4gIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgIHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcyk7XG4gIH0pO1xufVxuXG5wYXRjaEF2YXRhcih1cmwpIHtcbiAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIGF2YXRhcjogdXJsLFxuICAgIH0pLFxuICB9KS50aGVuKChyZXMpID0+IHsgXG4gICByZXR1cm4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKTtcbiAgfSk7XG59XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXBpO1xuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IsIGF2YXRhclNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuYW1lU2VsZWN0b3IpOyBcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGpvYlNlbGVjdG9yKTsgXG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihhdmF0YXJTZWxlY3RvcilcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkgeyBcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fbmFtZS50ZXh0Q29udGVudCxcbiAgICAgIGpvYjogdGhpcy5fam9iLnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcbiAgfVxuXG4gIHNldEF2YXRhckltZyggYXZhdGFyICkge1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBhdmF0YXI7XG59XG59XG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbzsiLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcblxuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuICAgIHRoaXMuX3NhdmVCdXR0b25UZXh0ID0gdGhpcy5fc2F2ZUJ1dHRvbi50ZXh0Q29udGVudDtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gYWN0aW9uO1xuICB9XG5cbiAgc2V0TG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0aW5nLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9IHRoaXMuX3N1Ym1pdEJ1dHRvblRleHQ7XG4gICAgfVxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgICBcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhDb25maXJtYXRpb247XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIlxuXG5jbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yfSkge1xuICAgICBzdXBlcih7cG9wdXBTZWxlY3Rvcn0pO1xuICAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX3ByZXZpZXcnKTtcbiAgICAgdGhpcy5fY2FwdGlvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWxfX2NhcHRpb24nKTtcbiAgICAgLy90aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgfVxuIFxuICAgb3Blbih7bGluaywgbmFtZX0pIHtcbiAgICAgdGhpcy5faW1hZ2Uuc3JjID0gbGluaztcbiAgICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcbiAgICAgdGhpcy5fY2FwdGlvbi50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgIHN1cGVyLm9wZW4oKTtcbiAgIH1cblxuIH1cblxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhJbWFnZSJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImZvcm1FbCIsInRoaXMiLCJfZm9ybUVsIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImVycm9yTWVzc2VhZ2VFbCIsInF1ZXJ5U2VsZWN0b3IiLCJpZCIsImNsYXNzTGlzdCIsImFkZCIsInRleHRDb250ZW50IiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGlkZUlucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsInJlbW92ZSIsIl9lbmFibGVCdG4iLCJfc3VibWl0QnRuIiwiZGlzYWJsZWQiLCJkaXNhYmxlQnRuIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGFzSW52YWxpZElucHV0IiwiX2lucHV0RWxzIiwiZXZlcnkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl9zZXRFdmVudExpc3RlbmVycyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsImhhbmRsZUltYWdlQ2xpY2siLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJjYXJkSWQiLCJfaWQiLCJpc0xpa2VkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVJbWFnZUNsaWNrIiwiX3VwZGF0ZUxpa2VzIiwiX2xpa2VCdXR0b24iLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlIiwiaGFuZGxlTGlrZUljb24iLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGVJY29uIiwiZ2V0VmlldyIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImUiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX3N1Ym1pdEJ1dHRvbiIsIl9zdWJtaXRCdXR0b25UZXh0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJzZXRFdmVudExpc3RlbmVycyIsInJlc2V0Iiwic2V0TG9hZGluZyIsImlzTG9hZGluZyIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImZvcm1TZWxlY3RvciIsInByb2ZpbGVFZGl0Rm9ybSIsImFkZENhcmRGb3JtIiwiYXZhdGFyRm9ybSIsImFkZENhcmRCdG4iLCJwcm9maWxlQXZhdGFyQnRuIiwicHJvZmlsZUVkaXRCdG4iLCJuYW1lSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwiYXBpIiwiYmFzZVVybCIsImhlYWRlcnMiLCJfYmFzZVVybCIsIl9oZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldEluaXRpYWxJbmZvIiwiYWRkTmV3Q2FyZCIsIl9yZWYyIiwibWV0aG9kIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkZWxldGVDYXJkIiwibGlrZUNhcmQiLCJkaXNsaWtlQ2FyZCIsInBhdGNoUHJvZmlsZUluZm8iLCJhYm91dCIsImRlc2NyaXB0aW9uIiwicGF0Y2hBdmF0YXIiLCJ1cmwiLCJhdmF0YXIiLCJhdXRob3JpemF0aW9uIiwic2VjdGlvbiIsImNyZWF0ZUNhcmQiLCJDYXJkIiwicHJldmlld0ltYWdlIiwiY2FyZHMiLCJTZWN0aW9uIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwiZXJyb3IiLCJ1c2VySW5mbyIsIm5hbWVTZWxlY3RvciIsImpvYlNlbGVjdG9yIiwiYXZhdGFyU2VsZWN0b3IiLCJfam9iIiwiX2F2YXRhciIsImdldFVzZXJJbmZvIiwiam9iIiwic2V0VXNlckluZm8iLCJzZXRBdmF0YXJJbWciLCJjYXJkIiwiZGVsZXRlQ2FyZENvbmZpcm0iLCJzZXRTdWJtaXRBY3Rpb24iLCJ1c2VyRGF0YSIsInBvcHVwRWRpdEZvcm0iLCJQb3B1cFdpdGhGb3JtIiwiZmluYWxseSIsInBvcHVwQWRkQ2FyZEZvcm0iLCJ0aXRsZSIsInByb2ZpbGVBdmF0YXJGb3JtIiwiX3NhdmVCdXR0b24iLCJfc2F2ZUJ1dHRvblRleHQiLCJhY3Rpb24iLCJfaW1hZ2UiLCJfY2FwdGlvbiIsIkZvcm1WYWxpZGF0b3IiLCJhZGRDYXJkRm9ybVZhbGlkYXRvciIsImF2YXRhckZvcm1WYWxpZGF0b3IiLCJ1c2VyVmFsdWVzIl0sInNvdXJjZVJvb3QiOiIifQ==